<script setup lang="ts">
import { RouterView } from 'vue-router'
import { Toaster } from 'vue-sonner'
import { useTheme } from '@/composables/useTheme'

const { theme } = useTheme()
</script>

<template>
  <RouterView />
  
  <Toaster 
    position="top-center" 
    :theme="theme" 
    richColors 
    closeButton
    class="!z-[99999]"
    :toastOptions="{
      class: '!rounded-xl !border-0 !shadow-2xl !py-3 !px-5 !text-sm !font-medium !gap-3',
      style: {
        marginTop: '2rem' // è·ç¦»é¡¶éƒ¨ç¨å¾®å¤šä¸€ç‚¹è·ç¦»
      }
    }"
  />
</template>

<style>
/* ğŸš‘ ç´§æ€¥æ ·å¼è¡¥ä¸ 
  å¦‚æœ vue-sonner çš„é»˜è®¤ CSS æ²¡åŠ è½½æˆåŠŸï¼Œè¿™æ®µä»£ç ä¼šå¼ºåˆ¶æŠŠå¼¹çª—å›ºå®šåœ¨å±å¹•æ­£ä¸Šæ–¹å±…ä¸­ã€‚
  è¿™èƒ½å®Œç¾è§£å†³å¼¹çª—å‡ºç°åœ¨å·¦ä¸‹è§’çš„é—®é¢˜ã€‚
*/
:root {
  --toaster-width: 356px;
}

/* å¼ºåˆ¶å®šä½å®¹å™¨ */
ol[data-sonner-toaster] {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  width: 100% !important;
  height: 100vh !important;
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important; /* æ ¸å¿ƒï¼šæ°´å¹³å±…ä¸­ */
  justify-content: flex-start !important; /* æ ¸å¿ƒï¼šä»é¡¶éƒ¨å¼€å§‹ */
  pointer-events: none !important;
  z-index: 99999 !important;
}

/* æ¢å¤å†…éƒ¨ç‚¹å‡»äº‹ä»¶ */
li[data-sonner-toast] {
  pointer-events: auto !important;
}
</style>
